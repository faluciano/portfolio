@import "tailwindcss";
@config "../../tailwind.config.cjs";

@keyframes fade-up-soft {
    from {
        opacity: 0;
        transform: translateY(16px) scale(0.98);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.animate-fade-up-soft {
    animation: fade-up-soft 600ms cubic-bezier(0.16, 1, 0.3, 1);
}

/* Focus visible styles for accessibility */
*:focus-visible {
    outline: 2px solid #14b8a6;
    outline-offset: 2px;
    box-shadow: 0 0 0 4px rgba(20, 184, 166, 0.2);
}

/* Smooth scroll behavior */
html {
    scroll-behavior: smooth;
}

/* Scroll margin for fixed header */
section[id],
div[id] {
    scroll-margin-top: 5rem;
}

/* Performance optimization for animations */
@media (prefers-reduced-motion: no-preference) {
    .animate-marquee-icons {
        will-change: transform;
    }
    
    /* Optimize frequently animated elements */
    [class*="transition"],
    [class*="hover:"],
    .group:hover * {
        will-change: transform, opacity;
    }
}

@layer base {
    html {
        @apply font-sans antialiased;
        @apply bg-white text-gray-900;
        @apply dark:bg-gray-900 dark:text-white;
    }

    /* Enhanced typography hierarchy */
    h1 {
        @apply text-4xl font-bold tracking-tight sm:text-5xl lg:text-6xl;
        line-height: 1.2;
    }

    h2 {
        @apply text-3xl font-bold tracking-tight sm:text-4xl;
        line-height: 1.2;
    }

    h3 {
        @apply text-xl font-bold tracking-tight sm:text-2xl;
        line-height: 1.3;
    }

    h4 {
        @apply text-lg font-semibold sm:text-xl;
        line-height: 1.4;
    }

    p {
        line-height: 1.6;
    }

    /* Consistent interactive states */
    button, a {
        @apply transition-colors duration-200;
    }

    /* Prevent horizontal overflow on all screen sizes */
    html, body {
        overflow-x: hidden;
        max-width: 100vw;
    }

    /* Better word breaking for long content */
    p, li, span, div {
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    /* Ensure images never cause overflow */
    img {
        max-width: 100%;
        height: auto;
    }
}

/* Reduced motion support - comprehensive */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
    
    /* Disable marquee animation */
    .animate-marquee-icons {
        animation: none !important;
    }
    
    /* Disable pulse animation */
    .animate-pulse {
        animation: none !important;
    }
    
    /* Simplify transforms */
    [class*="hover:scale"],
    [class*="hover:rotate"] {
        transform: none !important;
    }
}

/* Loading pulse animation for skeleton screens */
@keyframes skeleton-pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

.animate-pulse {
    animation: skeleton-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Optimized transitions for better performance */
.transition-optimized {
    transition-property: transform, opacity;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
}

/* Mobile-specific responsive utilities */
@media (max-width: 639px) {
    /* Ensure text remains readable on mobile */
    body {
        font-size: 16px;
        -webkit-text-size-adjust: 100%;
    }
    
    /* Improve tap targets on mobile */
    button, a, input, select, textarea {
        min-height: 44px;
    }
}
